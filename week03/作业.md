

# 作业

[toc]

## JavaScript | 表达式，类型准换

### 函数 convertStringToNumber

```js
function covertStringToNumber(string, radix) {
  let chars = string.split('');
  let number = 0; // 最终返回的 number 结果
  let i = 0; 
  let j = string.length - 1; // 从字符串最后一位开始的 index
  // 整数部分的处理，使用 while 可以更好的进行控制和分段
  while (i < chars.length && chars[i] !== '.') {
    // 获取下一位数字时，先通过乘以进制数来使之前的数字扩大一个量级
    number = number * radix;
    // 利用字符的 codePoint 来获取数字值
    number += chars[i].codePointAt(0) - '0'.codePointAt(0);
    i++;
  }
  let decimalPointIndex = i;
  // 小数点位让 i 自增，进入到对小数的处理
  if (chars[i] === '.') {
    i++;
  }
  let decimal = 0;
  // 小数部分的处理
  while (j > decimalPointIndex) {
    decimal += chars[j].codePointAt(0) - '0'.codePointAt(0);
    decimal = decimal / radix;
    j--;
  }
  return number + decimal;
}

covertStringToNumber('10.1',10); // => 10.1
```



### 函数 convertNumberToString

```js
function covertNumberToString(number, radix) {
  let integer = Math.floor(number);
  let decimal = number - integer;
  let string = '';

  while (integer > 0) {
    // 除以进制数求余数来获取个位数
    string = (integer % radix) + string;
    integer = Math.floor(integer / radix);
  }

  string += '.';

  while (decimal < 1) {
    decimal = decimal * radix;
    let unit = Math.floor(decimal);
    if(unit === 0) break;
    string = string + unit;
    decimal = decimal - unit; 
  }
  return string;
}

covertNumberToString(101.25,10) // => "101.25"
```

